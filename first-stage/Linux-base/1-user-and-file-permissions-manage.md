# 用户及文件权限管理

## 本节内容
1. Linux 中创建、删除用户，及用户组等操作。
2. Linux 中的文件权限设置。

### Linux用户管理
Linux是一个可以实现多用户登陆操作系统，不同的人可以同时登陆一台主机，共享主机资源，但他们有自己独立的用户空间，用于存放自己的文件。实际上他们的文件都是放在同一个物理磁盘上的甚至同一个逻辑分区或者目录里，但是由于 Linux 的 用户管理 和 权限机制，不同用户不可以轻易地查看、修改彼此的文件。

#### 1. 查看用户
```
# 示打开当前伪终端的用户的用户名（要查看当前登录用户的用户名，去掉空格直接使用whoami）
$ who am i
$ whoami
```

#### 2. 创建用户
Linux系统中，**root**账户拥有至高无上的权限，比如新增用户。一般登陆系统的时候都是用普通账户登陆，创建用户需要获取root权限，所以需要用到`sudo`命令。使用该命令的两个前提：
1. 知道当前登陆用户的密码；
2. 该用户在sudo用户组；

```
# 切换到用户user，执行时需要输入目标用户密码
su <user> 

# sudo命令可以特权级别执行cmd命令，需要属于sudo用户组
sudo <cmd>

# 切换用户，同时环境变量也会跟着改变成目标用户的环境变量
sudo - <user>
```
**新建一个用户：**
```
sudo adduser lilei

# 可以为lilei用户设置密码等信息，该命令会将该用户添加到系统，还会默认为新用户创建home目录

cd /home 可以看到新加的用户lilei

# 切换到lilei用户登陆
su -l lilei
# 输入密码
# 登出可以使用exit或者ctrl+d
```

#### 3. 用户组
用户组就是一组用户的集合，它们会共享一些资源，但也有各自的私有资源。一个用户可以同时属于多个用户组。

查看自己属于哪个用户组的方法：
+ groups命令
```
groups molang
```
+ 查看／etc/group文件
/etc/group 的内容包括用户组（Group）、用户组口令、GID 及该用户组所包含的用户（User），每个用户组一条记录。格式如下：
`group_name:password:GID:user_list`
password字段说明密码保密不可查看

#### 4. 删除用户
```
sudo deluser lilei --remove-home
```

### Linux文件管理
较长格式列出文件： 
```
ls -l
```

文件类型：Linux中一切皆文件
软链接就像是windows上的快捷方式

文件权限：
读权限可以通过`cat <filename>`查看；写权限，表示你可以编辑和修改某个文件；执行权限，通常指可以运行的二进制程序文件或者脚本文件，如同 Windows 上的 exe 后缀的文件，不过 Linux 上不是通过文件后缀名来区分文件的类型；

**一个目录同时具有读权限和执行权限才可以打开并查看内部文件，而一个目录要有写权限才允许在其中创建其它文件**

所有者权限，这一点相信你应该明白了，至于所属用户组权限，是指你所在的用户组中的所有其它用户对于该文件的权限。

文件大小：以 inode 结点大小为单位来表示的文件大小，可以给 ls 加上 -lh 参数来更直观的查看文件的大小。
